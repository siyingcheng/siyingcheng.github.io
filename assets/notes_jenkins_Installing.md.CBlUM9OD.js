import{_ as n,E as t,c as l,m as e,a as i,J as a,a4 as h,o as k}from"./chunks/framework.CQ6Y-Ee6.js";const _=JSON.parse('{"title":"Installing","titleTemplate":"Jenkins","description":"Notes for Jenkins Installing","frontmatter":{"title":"Installing","titleTemplate":"Jenkins","description":"Notes for Jenkins Installing","head":[["meta",{"name":"description","content":"Notes for Jenkins Installing"}]],"tags":["Jenkins"],"categories":["Notes"]},"headers":[],"relativePath":"notes/jenkins/Installing.md","filePath":"notes/jenkins/Installing.md","lastUpdated":1711006457000}'),p={name:"notes/jenkins/Installing.md"},r={id:"installing",tabindex:"-1"},o=e("a",{class:"header-anchor",href:"#installing","aria-label":'Permalink to "Installing <Badge type="tip" text="Jenkins" /><Badge type="warning" text="Notes" />"'},"​",-1),d=h(`<ul><li><a href="https://www.jenkins.io/doc/book/installing/docker/" target="_blank" rel="noreferrer">Docker</a></li><li><a href="https://www.jenkins.io/doc/book/installing/kubernetes/" target="_blank" rel="noreferrer">kubernetes</a></li><li><a href="https://www.jenkins.io/doc/book/installing/linux/" target="_blank" rel="noreferrer">Linux</a></li><li><a href="https://www.jenkins.io/doc/book/installing/macos/" target="_blank" rel="noreferrer">MacOS</a></li><li><a href="https://www.jenkins.io/doc/book/installing/windows/" target="_blank" rel="noreferrer">Windows</a></li><li><a href="https://www.jenkins.io/doc/book/installing/war-file/" target="_blank" rel="noreferrer">War-File</a></li></ul><p><a href="https://github.com/siyingcheng/smile-jenkins" target="_blank" rel="noreferrer"><em>Here</em></a> is a my jenkins repository.</p><p>Step by step:</p><ol><li>Clone to local: <code>git@github.com:siyingcheng/smile-jenkins.git</code></li><li>Create a bridge network for docker: <code>docker network create jenkins</code></li><li>Enter the directory of step 1, and build with Dockerfile: <code>docker build -t myjenkins-blueocean:2.440.1-1 .</code></li><li>Run your own image as a container:</li></ol><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --name</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> jenkins-blueocean</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --restart=on-failure</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --detach</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  --network</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> jenkins</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --env</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> DOCKER_HOST=tcp://docker:2376</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  --env</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> DOCKER_CERT_PATH=/certs/client</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --env</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> DOCKER_TLS_VERIFY=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  --publish</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 8081</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">:8080</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --publish</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 50000</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">:50000</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  --volume</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> jenkins-data:/var/jenkins_home</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  --volume</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> jenkins-docker-certs:/certs/client:ro</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  myjenkins-blueocean:2.440.1-1</span></span></code></pre></div><p>And, if you want to use a local directory as data storage, you can use <code>--volume /path/to/jenkins-data:/var/jenkins_home</code> instead of <code>--volume jenkins-data:/var/jenkins_home</code>.</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --name</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> jenkins-blueocean</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --restart=on-failure</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --detach</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  --network</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> jenkins</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --env</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> DOCKER_HOST=tcp://docker:2376</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  --env</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> DOCKER_CERT_PATH=/certs/client</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --env</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> DOCKER_TLS_VERIFY=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  --publish</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 8081</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">:8080</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --publish</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 50000</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">:50000</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  --volume</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> jenkins-docker-certs:/certs/client:ro</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  --volume</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /Volumes/Data/smile-jenkins/jenkins_home:/var/jenkins_home</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  myjenkins-blueocean:2.440.1-1</span></span></code></pre></div><p>You may need to get the initial password with <code>cat</code>:</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> exec</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> jenkins-blueocean</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> cat</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /var/jenkins_home/secrets/initialAdminPassword</span></span></code></pre></div><p>Or, with <code>logs</code>:</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> logs</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -f</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> jenkins-blueocean</span></span></code></pre></div><h2 id="update-site-for-plugins" tabindex="-1">Update Site for Plugins <a class="header-anchor" href="#update-site-for-plugins" aria-label="Permalink to &quot;Update Site for Plugins&quot;">​</a></h2><p>If you are in China, you may need to update the site for plugins.</p><p>Navigate to <em>Manage Jenkins -&gt; Plugins -&gt; Advanced settings</em>, replace the default site <code>https://updates.jenkins.io/download/plugins</code> with <code>https://mirrors.tuna.tsinghua.edu.cn/jenkins/updates/update-center.json</code>.</p>`,14);function F(c,g,C,y,u,B){const s=t("Badge");return k(),l("div",null,[e("h1",r,[i("Installing "),a(s,{type:"tip",text:"Jenkins"}),a(s,{type:"warning",text:"Notes"}),i(),o]),d])}const b=n(p,[["render",F]]);export{_ as __pageData,b as default};
